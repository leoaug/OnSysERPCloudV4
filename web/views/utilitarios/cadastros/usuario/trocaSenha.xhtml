<html xmlns:c="http://java.sun.com/jsp/jstl/core">    
    <ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                    xmlns:p="http://primefaces.org/ui"
                    template="/WEB-INF/template.xhtml"
                    xmlns:f="http://java.sun.com/jsf/core"
                    xmlns:h="http://java.sun.com/jsf/html">
        <ui:define name="conteudo">  
            <f:view contentType="text/html; charset=utf-8"> 
                <h:head>  
                    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>  
                </h:head>                
                <p:ajaxStatus onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" widgetVar="statusDialog" />
                <p:dialog modal="true" widgetVar="statusDialog" header="Processando..." draggable="false" closable="false" resizable="false">                               
                    <p:graphicImage value="#{pageContext.servletContext.contextPath}/resources/imagens/onsys/bar180.gif" /> 
                </p:dialog>         
                <script type="text/javascript">
                    function startMessage() {
                         statusDialog.show();
                    }
                    function finishMessage() {
                        statusDialog.hide();
                    }
                </script>       
                <h:form id="fmEditar">
                    <p:focus for="novasenha"/>
                    <script type="text/javascript" src="../../../../resources/js/jquery.price_format.js"></script> 
                    <script type="text/javascript" src="../../../../resources/js/locale-primefaces.js" ></script>
                    <p:panel header="Trocar senha do usuário - #{usuarioFace.loggedUser.apelido}">
                        <p:toolbar>
                            <p:toolbarGroup>
                                <p:commandButton title="Salvar" 
                                                 action="#{usuarioFace.doFinishTrocaSenha}" 
                                                 styleClass="GreenButton"                                                 
                                                 style="height: 30px; width: 100px;"
                                                 alt="Salvar registro"
                                                 value="Salvar"
                                                 process="@form"
                                                 onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"                                                             
                                                 icon="fa fa-check white"/>                                
                                <p:spacer width="5" height="5"/>
                                <p:commandButton immediate="true" action="#{usuarioFace.doCancelaTrocaSenha()}" 
                                                 style="height: 30px; width: 100px;"
                                                 styleClass="RedButton"
                                                 title="Voltar para lista" 
                                                 value="Voltar"
                                                 onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"
                                                 alt="Voltar para lista" 
                                                 icon="fa fa-reply Fs12 white"/>
                            </p:toolbarGroup>                                            
                            <p:toolbarGroup>
                                <p:growl id="messages" showDetail="true"/>
                            </p:toolbarGroup>
                        </p:toolbar>
                        <div class="ui-fluid">
                            <p:panelGrid layout="grid" columns="3" 
                                         columnClasses="ui-grid-col-3, ui-grid-col-4, ui-grid-col-5"                                          
                                         id="PnlGrEdit" styleClass="semBorda" 
                                         style="border: none !important; background-color: #dddddd">                        

                                <p:outputLabel value="E-mail" for="email"/>
                                <p:inputText  id="email" 
                                              disabled="true" 
                                              style="color: blue; font-weight: 700; opacity: 1!important; max-width: 290px!important"
                                              value="#{usuarioFace.loggedUser.email}"/>
                                <p:spacer width="5"/>
                                
                                <p:outputLabel value="Nome" for="nome"/>
                                <p:inputText  id="nome" 
                                              disabled="true" 
                                              value="#{usuarioFace.loggedUser.nome}" 
                                              style="color: blue; font-weight: 700; opacity: 1!important; max-width: 290px!important"/>
                                <p:spacer width="5"/>
                                
                                <p:outputLabel value="Nova senha" for="novasenha" style="color: red"/>
                                <p:password id="novasenha" value="#{usuarioFace.novaSenha1}" 
                                            feedback="true" 
                                            weakLabel="Fraco"
                                            goodLabel="Intermediario" strongLabel="Forte"/>
                                <p:spacer width="5"/>
                                
                                <p:outputLabel value="Redigite a nova senha" for="novasenha2" style="color: red"/>
                                <p:password id="novasenha2" value="#{usuarioFace.novaSenha2}"
                                            feedback="true" 
                                            weakLabel="Fraco"
                                            goodLabel="Intermediario" strongLabel="Forte"/>
                                <p:spacer width="5"/>
                                
                            </p:panelGrid>
                        </div>
                    </p:panel>
                    <h:outputText value="Campo(s) obrigatório(s)." style="color: red; font-weight: 700"/>
                </h:form>
            </f:view>
        </ui:define>
     </ui:composition>
</html>