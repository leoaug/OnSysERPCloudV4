<html   xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"                   
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"> 

    <p:dialog widgetVar="dialogoAlterar" id="dialogoAlterar" positionType="absolute"   
              position="top" style="max-width: 800px!important" 
              responsive="true" width="95%" height="95%"
              modal="true" header="Alterar submódulo x programa"
              resizable="true">    
        
        <f:view contentType="text/html; charset=utf-8"> 
            <h:form id="fmAlterar">   
                <script type="text/javascript" src="../../../../resources/js/jquery.price_format.js"></script> 
                <script type="text/javascript" src="../../../../resources/js/locale-primefaces.js" ></script>
                <p:toolbar style="height: 35px">
                    <f:facet name="left">
                        <p:commandButton title="Salvar dados do registro corrente e voltar para lista." 
                                         action="#{submoduloProgramaFace.fimAlterar()}" 
                                         style="height: 30px; width: 100px;"
                                         styleClass="GreenButton"
                                         value="Salvar"
                                         icon="fa fa-check white"
                                         update=":fmListar:dtb, fmAlterar"
                                         alt="Salvar dados do registro corrente e voltar para lista."
                                         process="@form"
                                         onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"/>                                
                        <p:spacer width="5" height="5"/>
                        <p:commandButton immediate="true" action="#{submoduloProgramaFace.listar()}" 
                                         style="height: 30px; width: 100px;"
                                         icon="fa fa-reply Fs12 white"
                                         styleClass="RedButton"
                                         value="Voltar"
                                         oncomplete="if (!args.validationFailed) PF('dialogoAlterar').hide()"
                                         title="Voltar para lista." 
                                         onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"
                                         alt="Voltar para lista."/>
                        <p:spacer width="5" height="5"/>
                        <p:growl id="messagesAlterar" showDetail="true"/>
                    </f:facet>
                </p:toolbar>
                <div class="ui-fluid">
                    <table id="tdSize15" cellspacing="5">
                        <tr>
                            <td>
                                <h:outputText value="Submódulo" style="color: black"/>
                            </td>
                            <td>
                                <p:inputText disabled="true" value="#{submoduloFace.registroSelecionado.codigo}"
                                                 style="color: blue; font-weight: 700; opacity: 1!important">
                                </p:inputText>
                            </td>
                        </tr>
                    </table>    
                    <p:separator style="color: black"/>
                    <h:outputText value="Programas" style="color: black"/>
                    <div class="EmptyBox10"></div>
                    <p:pickList id="pickList" value="#{submoduloProgramaFace.programas}" var="programas"
                                converter="programaConverter2" styleClass="semBorda FontBold Fs10"
                                filterMatchMode="contains" responsive="true" 
                                itemLabel="#{programas.codigo} - #{programas.descricao}" itemValue="#{programas}" 
                                showSourceFilter="true" showTargetFilter="true">
                        <f:facet name="sourceCaption">Programas disponíveis</f:facet>
                        <f:facet name="targetCaption">Programas do submódulos</f:facet>
                        
                        <p:ajax event="transfer" listener="#{submoduloProgramaFace.onTransfer}" update="messagesAlterar,:fmListar:dialogoPermissao"/>
                        
                    </p:pickList>                        
                </div>
                <script type="text/javascript">
                    jQuery('.monetario').priceFormat({
                           prefix : 'R$ '
                        });
                    jQuery('.decimal').priceFormat({
                           prefix : '  '
                        });
                </script>
            </h:form>
        </f:view>
    </p:dialog>                        
</html>