<html   xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"                   
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"> 
    
    <p:dialog widgetVar="dialogoAlterar" id="dialogoAlterar" positionType="absolute"   
              position="top" style="max-width: 800px!important" 
              responsive="true" width="95%" height="95%"
              modal="true" 
              header="SUP008 - Alterar parâmetro de suporte"
              resizable="true">    
        
        <f:view contentType="text/html; charset=utf-8"> 
            <h:form id="fmAlterar">   
                <p:focus for="chamadoAlterar"/>
                <script type="text/javascript" src="../../../../resources/js/jquery.price_format.js"></script> 
                <script type="text/javascript" src="../../../../resources/js/locale-primefaces.js" ></script>
                    <p:toolbar style="height: 35px">
                        <f:facet name="left">
                            <p:commandButton title="Salvar dados do registro corrente e voltar para lista de parâmetros." 
                                             action="#{paramSuporteFace.fimAlterar(usuarioFace.loggedUser.empresa.codigo)}" 
                                             style="height: 30px; width: 30px;"
                                             styleClass="GreenButton"
                                             icon="fa fa-check white"
                                             update=":fmListar:Dtb, fmAlterar"
                                             alt="Salvar dados do registro corrente e voltar para lista de parâmetros."
                                             process="@form"
                                             onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"/>                                
                            <p:spacer width="5" height="5"/>
                            <p:commandButton immediate="true"
                                             style="height: 30px; width: 30px;"
                                             icon="fa fa-reply Fs12 white" styleClass="RedButton"
                                             oncomplete="if (!args.validationFailed) PF('dialogoAlterar').hide()"
                                             title="Voltar para lista de parâmetros." 
                                             onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"
                                             alt="Voltar para lista de parâmetros."/>
                            <p:spacer width="5" height="5"/>                           
                            <p:growl id="messagesAlterar" showDetail="true" sticky="true" autoUpdate="true"/>
                        </f:facet>
                    </p:toolbar>
                    <div class="ui-fluid">
                        <p:panelGrid layout="grid" columns="3" 
                                     columnClasses="ui-grid-col-3, ui-grid-col-8, ui-grid-col-1"                                          
                                     id="pnlGrAlterar" styleClass="semBorda" 
                                     rendered="#{paramSuporteFace.registroSelecionado != null}"
                                     style="border: none !important; background-color: #dddddd; overflow: auto; max-height: 480px!important;">
                            
                                <p:outputLabel value="Último chamado" for="chamadoAlterar" style="color: red"/>
                                <p:inputText  id="chamadoAlterar" value="#{paramSuporteFace.registroSelecionado.ultimochamado}"  
                                              style="text-align: right"/>
                                <p:spacer width="5"/>

                                <p:outputLabel value="Período inicial" for="dtiniAlterar" style="color: red"/>
                                <p:calendar id="dtiniAlterar"  value="#{paramSuporteFace.registroSelecionado.periniaberto}" 
                                             pattern="dd/MM/yyyy" locale="pt_BR" navigator="true" 
                                             style="width: 125px;font-size: 11px"/>
                                <p:spacer width="5"/>

                                <p:outputLabel value="Período final" for="dtfinAlterar" style="color: red"/>
                                <p:calendar id="dtfinAlterar"  value="#{paramSuporteFace.registroSelecionado.perfimaberto}" 
                                             pattern="dd/MM/yyyy" locale="pt_BR" navigator="true" 
                                             style="width: 125px;font-size: 11px"/>
                                <p:spacer width="5"/>

                        </p:panelGrid>
                    </div>
                <h:outputText value="Campo(s) obrigatório(s)." style="color: red; font-weight: 700"/>
                <script type="text/javascript">
                    jQuery('.monetario').priceFormat({
                           prefix : 'R$ '
                        });
                    jQuery('.decimal').priceFormat({
                           prefix : '  '
                        });
                </script>
            </h:form>
        </f:view>
    </p:dialog>                        
</html>