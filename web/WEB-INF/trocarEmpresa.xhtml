<html xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                    xmlns:p="http://primefaces.org/ui"
                    template="/WEB-INF/template.xhtml"
                    xmlns:f="http://java.sun.com/jsf/core"
                    xmlns:h="http://java.sun.com/jsf/html">
        <ui:define name="conteudo">
            <f:view contentType="text/html; charset=utf-8">
                <h:head>  
                    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>  
                </h:head>
                <p:ajaxStatus onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" widgetVar="statusDialog" />
                <p:dialog modal="true" widgetVar="statusDialog" header="Processando..." draggable="false" closable="false" resizable="false">                               
                    <p:graphicImage value="#{pageContext.servletContext.contextPath}/resources/imagens/onsys/bar180.gif" /> 
                </p:dialog>         
                <script type="text/javascript">
                    function startMessage() {
                         statusDialog.show();
                    }
                    function finishMessage() {
                        statusDialog.hide();
                    }
                </script>
                <style type="text/css">
                    .old {
                        background-color: #FFE771 !important;
                        background-image: none !important;
                        color: #000000 !important;
                    }
                </style>
                <style>
                    .ui-menu {
                        min-width: 300px;
                    }                    
                    .ui-datatable .ui-datatable-data .even-row td{
			background-color:#EEDD82;                          
                        font-size: 12px; 
                        height: 10px;  
                    }
                    .ui-datatable .ui-datatable-data .odd-row td{
			background-color:#FFFACD;
                        font-size: 12px; 
                        height: 10px;                         
                    }
                    .ui-datatable .ui-state-highlight {
                        background-image: none;
                        background-color: green;
                    }
                </style>
                <p:dialog header="Trocar empresa" modal="true" id="trocarEmpresa" widgetVar="trocarEmpresa">
                    <h:form id="fmTrocarEmpresa">
                        <p:panelGrid style="border: none !important; background-color: #dddddd"
                                columnClasses="Container120" 
                                columns="1" layout="grid">

                            <p:outputLabel value="Nova empresa" for="novaEmpresa"/>
                            <p:selectOneMenu id="novaEmpresa" value="#{usuarioFace.registroSelecionado.empresa}">
                                <f:selectItem itemValue=" " itemLabel=" "/>             
                                <f:selectItems var="itemSel" itemLabel="#{itemSel.codigo} - #{itemSel.descricao}" 
                                               itemValue="#{itemSel}" value="#{usuarioEmpresaFace.getListaDeEmpresasDoUsuario(usuarioFace.loggedUser)}"/>
                                <f:converter converterId="empresaConverter"/>
                                <p:column>#{p.codigo} - #{p.descricao}</p:column>
                            </p:selectOneMenu>
                            
                        </p:panelGrid>
                        <p:commandButton action="#{pedidoVendasMarketplaceFace.trocarTransportadoraFinal()}"  
                                         value="Confirma" 
                                         process="@form"

                                         styleClass="GreenButton">
                        </p:commandButton>
                        <p:commandButton value="Sair" update="@none"                   
                                         process="@this"
                                         styleClass="RedButton"    
                                         oncomplete="if (!args.validationFailed) PF('trocarEmpresa').hide()">
                        </p:commandButton>                        
                    </h:form>
                </p:dialog>                 
            </f:view>
        </ui:define>
    </ui:composition>
</html>