<html   xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"                   
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"> 
    
    
    <p:dialog header="Trocar empresa" modal="true" id="trocarEmpresa" widgetVar="trocarEmpresa">
        <h:form id="fmTrocarEmpresa">

            <p:panelGrid style="border: none !important; background-color: #dddddd"
                    columnClasses="Container120" 
                    columns="1" layout="grid">

                <p:outputLabel value="Nova empresa" for="novaEmpresa"/>
                <p:selectOneMenu id="novaEmpresa" 
                                 value="#{loginFace.usuarioLogado.empresa}" var="p">
                    <f:selectItem itemValue=" " itemLabel=" " />
                    <f:selectItems var="itemSel" itemLabel="#{itemSel.nomeFantasia}" itemValue="#{itemSel}" 
                                   value="#{empresaFace.listTodasEmpresas}"/>
                    <p:column>#{p.codigo} - #{p.nomeFantasia}</p:column>  
                    <f:converter converterId="empresaConverter"/> 
                </p:selectOneMenu>                

            </p:panelGrid>

            <p:commandButton action="#{trocarEmpresa.fimTrocarEmpresa()}"   
                             value="Confirma" 
                             process="@form"
                             update="fmTrocarEmpresa,@form"
                             styleClass="GreenButton">
            </p:commandButton>
            <p:commandButton value="Sair" update="@none"                   
                             process="@this"
                             styleClass="RedButton"    
                             oncomplete="if (!args.validationFailed) PF('trocarEmpresa').hide()">
            </p:commandButton>                        
        </h:form>
    </p:dialog>                 
    
    
    

</html>