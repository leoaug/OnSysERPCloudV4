<html   xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"                   
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"> 
    
    <p:dialog widgetVar="dialogoIncluir" id="dialogoIncluir" positionType="absolute"   
              position="top" style="max-width: 800px!important" 
              responsive="true" width="95%" height="95%"
              modal="true" header="#{subcatChamadoFace.tituloDialogo}"
              resizable="true">    
        
        <f:view contentType="text/html; charset=utf-8"> 
            <h:form id="fmIncluir">   
                <p:focus for="codigoIncluir"/>
                <script type="text/javascript" src="../../../../resources/js/jquery.price_format.js"></script> 
                <script type="text/javascript" src="../../../../resources/js/locale-primefaces.js" ></script>
                    <p:toolbar style="height: 35px">
                        <f:facet name="left">
                            <p:commandButton title="Salvar dados do registro corrente e voltar para lista de subcategorias de chamado." 
                                             action="#{subcatChamadoFace.fimIncluir(usuarioFace.loggedUser.empresa.codigo, false)}" 
                                             style="height: 30px; width: 100px;"
                                             styleClass="GreenButton"
                                             value="Salvar"
                                             icon="fa fa-check white"
                                             update=":fmListar:Dtb, fmIncluir"
                                             alt="Salvar dados do registro corrente e voltar para lista de subcategorias de chamado."
                                             process="@form"
                                             onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"/>                                
                            <p:spacer width="5" height="5"/>
                            <p:commandButton title="Salvar dados do registro corrente e criar uma nova subcategoria de chamado." 
                                             action="#{subcatChamadoFace.fimIncluir(usuarioFace.loggedUser.empresa.codigo, true)}" 
                                             style="height: 30px; width: 125px; font-size: 10px"
                                             styleClass="GreenButton"
                                             update=":fmListar:Dtb, fmIncluir, messagesIncluir"
                                             value="Salvar e novo"
                                             process="@form"
                                             onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"/>                                
                            <p:spacer width="5" height="5"/>
                            <p:commandButton immediate="true"
                                             style="height: 30px; width: 100px;"
                                             icon="fa fa-reply Fs12 white"
                                             value="Voltar" styleClass="RedButton"
                                             oncomplete="if (!args.validationFailed) PF('dialogoIncluir').hide()"
                                             title="Voltar para lista de subcategorias de chamado." 
                                             onclick="PF('PrimeFaces.monitorDownload(startMessage, finishMessage)')"
                                             alt="Voltar para lista de subcategorias de chamado."/>
                            <p:spacer width="5" height="5"/>                           
                            <p:growl id="messagesIncluir" showDetail="true" sticky="true" autoUpdate="true"/>
                        </f:facet>
                    </p:toolbar>
                    <div class="ui-fluid">
                        <p:panelGrid layout="grid" columns="3" 
                                     columnClasses="ui-grid-col-3, ui-grid-col-8, ui-grid-col-1"                                          
                                     id="pnlGrIncluir" styleClass="semBorda" 
                                     rendered="#{subcatChamadoFace.registroSelecionado != null}"
                                     style="border: none !important; background-color: #dddddd; overflow: auto; max-height: 480px!important;">
                            
                            <p:outputLabel value="Código" for="codigoIncluir" style="color: red"/>
                            <p:inputText  id="codigoIncluir" value="#{subcatChamadoFace.registroSelecionado.codigo}"/>
                            <p:spacer width="5"/>                                

                            <p:outputLabel value="Descrição" for="descricaoIncluir" style="color: red"/>
                            <p:inputText id="descricaoIncluir" value="#{subcatChamadoFace.registroSelecionado.descricao}"/>
                            <p:spacer width="5"/>                                

                            <p:outputLabel for="obsIncluir" value="Observação" style="color: black"/>
                            <p:inputTextarea id="obsIncluir"  cols="40" rows="5" 
                                             value="#{subcatChamadoFace.registroSelecionado.obs}"/>
                            <p:spacer width="5"/>                                

                        </p:panelGrid>
                    </div>
                <h:outputText value="Campo(s) obrigatório(s)." style="color: red; font-weight: 700"/>
                <script type="text/javascript">
                    jQuery('.monetario').priceFormat({
                           prefix : 'R$ '
                        });
                    jQuery('.decimal').priceFormat({
                           prefix : '  '
                        });
                </script>
            </h:form>
        </f:view>
    </p:dialog>                        
</html>